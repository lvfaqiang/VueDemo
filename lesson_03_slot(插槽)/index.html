<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app">
    <!-- Â¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ÊèíÊßΩÔºå‰∏çÁî®ÊåáÂÆö slot='xxx(Slot Name)' Âπ∂‰∏îÂèØ‰ª•ÁúÅÁï•Â§ñÂá∫ÁöÑ template Ê†áÁ≠æ -->
    <todo-list>
      <!-- <template> todo-list ‰∏≠Âè™Êúâ‰∏Ä‰∏™ slotÔºåÊâÄ‰ª•Ëøô‰∏™ template Ê†áÁ≠æÂèØ‰ª•ÁúÅÁï•Êéâ -->

      <todo-item v-for="(item, index) in list" :key="index" :title="item.title" :del='item.del'
        @btn-click='itemClick(item)'>
        <!-- Ê∑ªÂä†Â§ö‰∏™ÊèíÊßΩÔºå -->

        <!--  Ê≤°ÊúâÊåáÂÆöÊèíÊßΩÂêçÁß∞ÁöÑÂÜÖÂÆπÔºå‰ºöÂú®ÊØè‰∏Ä‰∏™ <slot> Ê†áÁ≠æÁöÑ‰ΩçÁΩÆÊ∑ªÂä†‰∏ÄÊ¨°„ÄÇ-->
        <span>üòÑ</span>
        <span>üòÑ</span>

        <!-- ÊåáÂÆö‰∫ÜÊèíÊßΩÂêçÁß∞ÁöÑÊ†áÁ≠æÂè™‰ºöÊ∑ªÂä†Âú® ÂØπÂ∫îÁöÑÊèíÊßΩ ‰∏≠„ÄÇ-->
        <!--<span slot="pre-icon">PreIcon</span>
        <span slot="suf-icon">SufIcon</span> -->

        <!-- ‰∏äÈù¢ÊòØ 2.5 ÁâàÊú¨‰πãÂâçÁöÑÂÜôÊ≥ï„ÄÇ‰∏ãÈù¢ÊòØ 2.6‰ª•ÂêéÊîØÊåÅÁöÑÂÜôÊ≥ï  -->

        <template v-slot:pre-icon='{value}'>
          <span>PreIcon {{ value }}</span>
        </template>
        <template v-slot:suf-icon>
          <p>
            <h5>11</h5>
            <h5>22</h5>
          </p>
        </template>

      </todo-item>
    </todo-list>

    <!-- </template> -->
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</body>
<script>
  Vue.component('todo-item', {
    props: {
      title: '',
      del: false
    },
    template: `
      <li>
        <slot></slot>
        <slot name='pre-icon' :value="value"></slot>
        <span v-if="!del">{{ title }}</span>
        <span v-else style="text-decoration: line-through;">{{ title }}</span>
        <slot name='suf-icon'>ÊèíÊßΩÈªòËÆ§ÂÄº</slot>
        <button v-show="!del" @click='delClick()'>Âà†Èô§</button>
        <slot></slot>
      </li>
      `,

    data: function () {
      return {
        value: Math.random()
      }
    },
    methods: {
      delClick() {
        this.$emit('btn-click')
      }
    },
  })

  Vue.component('todo-list', {
    data: function () {
      return {
      }
    },
    template: `
    <ul>
      <slot></slot>
    </ul>`
  })


  var vm = new Vue({
    el: '#app',
    data: {
      message: 'Hello World',
      list: [
        {
          title: "Lesson1",
          del: false
        },
        {
          title: "Lesson2",
          del: true
        },
        {
          title: "Lesson3",
          del: false
        }
      ]
    },
    methods: {
      itemClick(item) {
        item.del = !item.del
        console.log("------------  clicked")
      }
    }
  })
</script>

</html>